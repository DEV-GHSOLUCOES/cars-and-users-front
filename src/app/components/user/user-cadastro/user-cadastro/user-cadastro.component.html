<h3 style="padding: 20px;">Tela de Usuario</h3>
<div class="alert alert-danger" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>
  <div class="alert alert-success" *ngIf="messageSuccess">
    {{ messageSuccess }}
  </div>

<form style="padding: 15px;" #formValidate="ngForm">
    
    <div class="form-row">
    <div class="form-group col-md-1">
        <label for="id">ID</label>
        <input type="text" [(ngModel)]="user.id" class="form-control" id="id" name="id" readonly="true" autocomplete="false">
    </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="firstName">Nome</label>
            <span style="color: red; font-size: 23px;" *ngIf="nomeValidate.invalid"> * </span>
            <input type="text" [(ngModel)]="user.firstName"  #nomeValidate="ngModel" class="form-control" id="firstName" name="firstName" required="true" autocomplete="false">
        </div>
        <div class="form-group col-md-6">
            <label for="lastName">Sobrenome</label>
            <span style="color: red; font-size: 23px;" *ngIf="lastNameValidate.invalid"> * </span>
            <input type="text"  [(ngModel)]="user.lastName"  #lastNameValidate="ngModel" class="form-control" id="lastName" name="lastName" required="true" autocomplete="false">
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="email">Email</label>
            <span style="color: red; font-size: 23px;" *ngIf="emailValidate.invalid"> * </span>
            <input type="text" [(ngModel)]="user.email" #emailValidate="ngModel" class="form-control" id="email" name="email" required="true"  autocomplete="false">
        </div>

        <div class="form-group col-md-6">
             <label for="birthday">Data de nascimento</label>
             <span style="color: red; font-size: 23px;" *ngIf="birthdayValidate.invalid"> * </span>
            <input type="date"  [(ngModel)]="user.birthday" #birthdayValidate="ngModel" class="form-control" id="birthday" name="birthday" required="true"  autocomplete="false">
        </div>

    </div>

    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="login">Login</label>
            <span style="color: red; font-size: 23px;" *ngIf="loginValidate.invalid"> * </span>
            <input type="text"  [(ngModel)]="user.login" #loginValidate="ngModel" class="form-control" id="login" name="login" required="true"  autocomplete="false">
        </div>

        <div class="form-group col-md-6">
             <label for="password">Password</label>
             <span style="color: red; font-size: 23px;" *ngIf="passwordValidate.invalid"> * </span>
            <input type="password"  [(ngModel)]="user.password" #passwordValidate="ngModel" class="form-control" id="password" name="password" required="true"  autocomplete="false">
        </div>

    </div>

    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="phone">Telefone</label>
            <span style="color: red; font-size: 23px;" *ngIf="phoneValidate.invalid"> * </span>
            <input type="text" [(ngModel)]="user.phone" #phoneValidate="ngModel" class="form-control" id="phone" name="phone" required="true"  autocomplete="false">      
        </div>

        <!-- <div class="form-group col-md-6" *ngIf="user.cars && user.cars.length >= 0">
            <label for="cars">Carro</label>
            
            <input type="text"  [(ngModel)]="user.cars[0].model" class="form-control" id="cars" name="cars" required="true"  autocomplete="false">      
        </div> -->

    </div>

    <div class="card text-center">
        <div class="card-header" style="background-color: lightgray;">
            Carros do Usuario
        </div>
        <div class="card-body" style="padding-left: 1px;">
            <div class="form-row">
               
            </div>
        </div>
    </div>
    <table class="table">



        <thead class="thread-dark">
            <th scope="col">ID</th>
            <th scope="col">Ano</th>
            <th scope="col">Placa do carro</th>
            <th scope="col">Modelo</th>
            <th scope="col">Cor</th>
           
            
        </thead>


        <tbody>
            <tr *ngFor="let car of user.cars">
                <td>{{car.id}}</td>
                <td>{{car.year}}</td>
                <td>{{car.licensePlate}}</td>
                <td>{{car.model}}</td>
                <td>{{car.color}}</td>  
            </tr>
           
        </tbody>
        
        
    </table>

    <div class="form-row">
        <div class="form-group col-md-6">
          <button type="button" class="btn btn-secondary" [routerLink]="['/users']" routerLinkActive="router-link-active" >Voltar</button>
          <button type="button" class="btn btn-success"  (click)="cleanUser()" style="margin-left: 10px;"  >Novo</button>
          <button type="button" class="btn btn-primary"    (click)="salvarUser(user)" style="margin-left: 10px;"  >Salvar</button>
        </div>

    </div>
</form>
